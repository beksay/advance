<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/layouts/private.xhtml">

	<ui:define name="content">
	    <h:form id="form">
		<div class="innerBlock">
		    <div class="innerBlockHeader">
		    	<ul>
		    		<li>#{msgs.studentForm}</li>
					<li><a href="#del"><i class="fas fa-times"></i></a></li>
		    	</ul>
		    </div>
		    <div class="row">
		        <div class="col-4">
					<h:outputLabel value="#{msgs.pin}" />
					<h:inputText id="pin" value="#{conversationPerson.person.pin}" required="true" requiredMessage="#{msgs.pin} - #{msgs.isReq}">
					</h:inputText>
					<h:message for="pin" display="icon" style="color:red;" />		    	
		    	</div>
		    	<div class="col-4">
					<h:outputLabel value="#{msgs.birthDate}" for="birthDate"/>
	                 <p:calendar id="birthDate" value="#{conversationPerson.person.birthDate}" 
	                 yearRange="1950:2020" navigator="true" pattern="yyyy-MM-dd" 
	                 required="true" requiredMessage="#{msgs.birthDate} - #{msgs.isReq}" />
	                <h:message for="birthDate" display="icon" style="color:red;" />
		    	</div>
		    	<div class="col-4">
					<h:outputLabel value="#{msgs.mentor}" />
					<p:autoComplete  id="mentor" dropdown="true" size="74"
						var="type" itemValue="#{type}" itemLabel="#{type.name}" 
						value="#{conversationPerson.mentor}" converter="cachedConverter"  
						completeMethod="#{personController.getMentorList}" 
						required="true" requiredMessage="#{msgs.mentor} - #{msgs.isReq}">
					</p:autoComplete>
					<h:message for="mentor" display="icon" style="color:red;" />		    	
		    	</div>
		    	<div class="col-4">
					<h:outputLabel value="#{msgs.firstname}" />
					<h:inputText id="firstname" value="#{conversationPerson.person.firstname}" required="true" requiredMessage="#{msgs.firstname} - #{msgs.isReq}"></h:inputText>
					<h:message for="firstname" display="icon" style="color:red;" />		    	
		    	</div>
		    	<div class="col-4">
					<h:outputLabel value="#{msgs.lastname}" />
					<h:inputText id="lastname" value="#{conversationPerson.person.lastname}" required="true" requiredMessage="#{msgs.lastname} - #{msgs.isReq}"></h:inputText>
					<h:message for="lastname" display="icon" style="color:red;" />		    	
		    	</div>
		    	<div class="col-4">
					<h:outputLabel value="#{msgs.patronymic}" />
					<h:inputText id="patronymic" value="#{conversationPerson.person.patronymic}" ></h:inputText>
					<h:message for="patronymic" display="icon" style="color:red;" />		    	
		    	</div>
		    	<div class="col-4">
					<h:outputLabel for="countryBirth" value="#{msgs.countryAddress}" />	
		            <p:autoComplete  id="countryBirth" dropdown="true" size="74"
						var="type" itemValue="#{type}" itemLabel="#{type.name}" 
						value="#{conversationPerson.countryBirth}" converter="cachedConverter"  
						completeMethod="#{personController.getCountryList}" 
						required="true" requiredMessage="#{msgs.countryAddress} - #{msgs.isReq}" >
					</p:autoComplete>
		            <h:message for="countryBirth" display="icon" style="color:red;" />	    	
		    	</div>
		    	<div class="col-4">
					<h:outputLabel value="#{msgs.cityAddress}" />
					<h:inputText id="city" value="#{conversationPerson.person.city}" required="true" requiredMessage="#{msgs.cityAddress} - #{msgs.isReq}"></h:inputText>
					<h:message for="city" display="icon" style="color:red;" />		    	
		    	</div> 
		    	<div class="col-4">
					<h:outputLabel value="#{msgs.streetAddress}" />
					<h:inputText id="address" value="#{conversationPerson.person.address}" required="true" requiredMessage="#{msgs.streetAddress} - #{msgs.isReq}"></h:inputText>
					<h:message for="address" display="icon" style="color:red;" />		    	
		    	</div>
		    	<div class="col-3">
					<h:outputLabel for="english" value="#{msgs.englishLevel}" />	
					<p:selectOneMenu ajax="false" id="english" value="#{conversationPerson.english}" converter="dictionaryConverter"
				        required="true" requiredMessage="#{msgs.englishLevel} - #{msgs.isReq}" >
				        <f:selectItem itemLabel="#{msgs.selectValue}"  />
		                <f:selectItems value="#{personController.englishList}" var="item" itemLabel="#{item.name}" itemValue="#{item}"/>     
		            </p:selectOneMenu>
		            <h:message for="english" display="icon" style="color:red;" />	    	
		    	</div>
		    	<div class="col-3">
					<h:outputLabel value="#{msgs.toefl}" />
					<h:inputText id="toefl" value="#{conversationPerson.person.toefl}" ></h:inputText>
					<h:message for="toefl" display="icon" style="color:red;" />		    	
		    	</div>
		    	<div class="col-3">
					<h:outputLabel value="#{msgs.ielts}" />
					<h:inputText id="ielts" value="#{conversationPerson.person.ielts}" ></h:inputText>
					<h:message for="ielts" display="icon" style="color:red;" />		    	
		    	</div>
		    	<div class="col-3">
					<h:outputLabel value="#{msgs.languages}" />
					<p:selectCheckboxMenu  value="#{conversationPerson.languages}" required="true" requiredMessage="#{msgs.languages} - #{msgs.isReq}" 
							multiple="true" id="languages"  converter="cachedConverter">
						<f:selectItems value="#{personController.languagesList}" var="entity" itemLabel="#{entity.name}" itemValue="#{entity}"/>
			    	</p:selectCheckboxMenu>
					<h:message for="languages" display="icon" style="color:red;" />		    	
		    	</div>
		    	<div class="col-4">
					<h:outputLabel for="citizenship" value="#{msgs.citizenship}" />	
		            <p:autoComplete  id="citizenship" dropdown="true" size="74"
						var="type" itemValue="#{type}" itemLabel="#{type.name}" 
						value="#{conversationPerson.citizenship}" converter="cachedConverter"  
						completeMethod="#{personController.getCitizenshipList}" required="true" requiredMessage="#{msgs.citizenship} - #{msgs.isReq}">
					</p:autoComplete>
		            <h:message for="citizenship" display="icon" style="color:red;" />	    	
		    	</div>
		    	<div class="col-4">
					<h:outputLabel value="#{msgs.abroad}" />
					<h:inputText id="abroad" value="#{conversationPerson.person.abroad}" ></h:inputText>
					<h:message for="abroad" display="icon" style="color:red;" />		    	
		    	</div>
		    	<div class="col-4">
					<h:outputLabel value="#{msgs.cu}" />
					<h:inputText id="cu" value="#{conversationPerson.person.cu}" ></h:inputText>
					<h:message for="cu" display="icon" style="color:red;" />		    	
		    	</div>
		    	<div class="col-3">
					<h:outputLabel value="#{msgs.country}" />
					<p:selectCheckboxMenu  value="#{conversationPerson.countries}"  required="true" requiredMessage="#{msgs.country} - #{msgs.isReq}" 
							multiple="true" id="country"  converter="cachedConverter">
						<f:selectItems value="#{personController.countryList}" var="entity" itemLabel="#{entity.name}" itemValue="#{entity}"/>
						<p:ajax change="event" update="usa1 usa2 usa3 usa4"/>
			    	</p:selectCheckboxMenu>
					<h:message for="country" display="icon" style="color:red;" />		    	
		    	</div>
		    	<div class="col-3">
					<h:outputLabel value="#{msgs.program}" />
					<p:selectCheckboxMenu  value="#{conversationPerson.programs}"  required="true" requiredMessage="#{msgs.program} - #{msgs.isReq}" 
							multiple="true" id="program"  converter="cachedConverter">
						<f:selectItems value="#{personController.programList}" var="entity" itemLabel="#{entity.name}" itemValue="#{entity}"/>
			    	</p:selectCheckboxMenu>
					<h:message for="program" display="icon" style="color:red;" />		    	
		    	</div>
		    	<div class="col-3">
					<h:outputLabel value="#{msgs.major}" />
					<p:selectCheckboxMenu  value="#{conversationPerson.majors}" required="true" requiredMessage="#{msgs.major} - #{msgs.isReq}" 
							multiple="true" id="major"  converter="cachedConverter">
						<f:selectItems value="#{personController.majorList}" var="entity" itemLabel="#{entity.name}" itemValue="#{entity}"/>
			    	</p:selectCheckboxMenu>
					<h:message for="major" display="icon" style="color:red;" />		    	
		    	</div>
		    	<div class="col-3">
					<h:outputLabel value="#{msgs.semesters}" />
					<p:selectCheckboxMenu  value="#{conversationPerson.semesters}" required="true" requiredMessage="#{msgs.semesters} - #{msgs.isReq}" 
							multiple="true" id="semesters"  converter="cachedConverter">
						<f:selectItems value="#{personController.semesterList}" var="entity" itemLabel="#{entity.name}" itemValue="#{entity}"/>
			    	</p:selectCheckboxMenu>
					<h:message for="semesters" display="icon" style="color:red;" />		    	
		    	</div>
		    	<h:panelGroup layout="block" id="usa1" class="col-3" >
		    	    <h:outputLabel value="#{msgs.visaAcceptance}" />
		    	    <p:selectBooleanCheckbox value="#{conversationPerson.person.visaAcceptance}" />
		    	</h:panelGroup>
		    	<h:panelGroup  layout="block" id="usa2" class="col-3" >
		    	    <h:outputLabel value="#{msgs.visaRejection}" />
		    	    <p:selectBooleanCheckbox value="#{conversationPerson.person.visaRejection}" />
		    	</h:panelGroup>
		    	<h:panelGroup  layout="block" id="usa3" class="col-3" > 
		    	    <h:outputLabel value="#{msgs.immediateRelatives}" />
		    	    <p:selectBooleanCheckbox value="#{conversationPerson.person.immediateRelatives}" />
		    	</h:panelGroup>
		    	<h:panelGroup  layout="block" id="usa4" class="col-3" >
		        	<h:outputLabel value="#{msgs.anyRelatives}" />
		    	    <p:selectBooleanCheckbox value="#{conversationPerson.person.anyRelatives}" />
		    	</h:panelGroup>
		    	<div class="col-4"> 
					<h:outputLabel value="#{msgs.email}" />
					<h:inputText id="email" value="#{conversationPerson.person.email}" required="true" requiredMessage="#{msgs.patronymic} - #{msgs.isReq}"></h:inputText>
					<h:message for="email" display="icon" style="color:red;" />		    	
		    	</div>
		    	<div class="col-4"> 
					<h:outputLabel value="#{msgs.phone}" />
					<h:inputText id="phone" value="#{conversationPerson.person.phone}" required="true" requiredMessage="#{msgs.phone} - #{msgs.isReq}"></h:inputText>
					<h:message for="phone" display="icon" style="color:red;" />		    	
		    	</div>
		    	<div class="col-4"> 
					<h:outputLabel value="#{msgs.finance}" />
					<h:inputText id="finance" value="#{conversationPerson.person.finance}" ></h:inputText>
					<h:message for="finance" display="icon" style="color:red;" />		    	
		    	</div>
		    	
		    	<div class="col-4"> 
					<h:outputLabel value="#{msgs.weOccupation}" />
					<h:inputText id="weOccupation" value="#{conversationPerson.person.weOccupation}" ></h:inputText>
					<h:message for="weOccupation" display="icon" style="color:red;" />		    	
		    	</div>
		    	
		    	<div class="col-4"> 
					<h:outputLabel value="#{msgs.weEmployer}" />
					<h:inputText id="weEmployer" value="#{conversationPerson.person.weEmployer}" ></h:inputText>
					<h:message for="weEmployer" display="icon" style="color:red;" />		    	
		    	</div>
		    	
		    	<div class="col-4"> 
					<h:outputLabel value="#{msgs.weDuties}" />
					<h:inputText id="weDuties" value="#{conversationPerson.person.weDuties}" ></h:inputText>
					<h:message for="weDuties" display="icon" style="color:red;" />		    	
		    	</div>
		    	
		    	<div class="col-4"> 
					<h:outputLabel value="#{msgs.weCountry}" />
					<h:inputText id="weCountry" value="#{conversationPerson.person.weCountry}" ></h:inputText>
					<h:message for="weCountry" display="icon" style="color:red;" />		    	
		    	</div>
		    	
		    	<div class="col-4"> 
					<h:outputLabel value="#{msgs.weCity}" />
					<h:inputText id="weCity" value="#{conversationPerson.person.weCity}" ></h:inputText>
					<h:message for="weCity" display="icon" style="color:red;" />		    	
		    	</div>
		    	
		    	<div class="col-4"> 
					<h:outputLabel value="#{msgs.weAddress}" />
					<h:inputText id="weAddress" value="#{conversationPerson.person.weAddress}" ></h:inputText>
					<h:message for="weAddress" display="icon" style="color:red;" />		    	
		    	</div>
		    	
		    	
		    	
		    	<div class="col-3">
					<h:outputLabel value="#{msgs.profile}"/>		    	
		    		<h:panelGroup id="profile">
			    		<div class="row">
			    			<div class="col">
								<p:fileUpload mode="advanced" fileUploadListener="#{personController.handleFileUploadImageProfile}"
			                       update="messagesprofile profile" sizeLimit="10000000" fileLimit="1" auto="true"
			                       fileLimitMessage="#{msgs.fileLimitMessage}" dragDropSupport="true"
			                       allowTypes="/(\.|\/)(gif|jpg|jpeg|png|GIF|JPG|JPEG|PNG)$/" uploadLabel="#{msgs.upload}" cancelLabel="#{msgs.cancel}" label="#{msgs.choose}"/>
				         		<p:growl id="messagesprofile" showDetail="true"/>		    			
			    			</div>
			    			<div class="col">
					     		<h:outputLabel value="#{conversationPerson.profile.name}"/>
					            <h:commandLink action="#{personController.removeImage()}" immediate="true" alt="#{msgs.delete}" rendered="#{conversationPerson.profile.name ne null}"> <i class="fa fa-lg fa-trash"/> </h:commandLink>		    			
			    			</div>		    			
			    		</div>
						<h:outputLabel />
					</h:panelGroup>
		    	</div>
		    	<div class="col submit">
					<p:commandButton ajax="false" value="#{msgs.save}" action="#{personController.save()}"/>		    	
		    	</div>
		    	<div class="col submit">
					<p:commandButton ajax="false" styleClass="orange-btn" value="#{msgs.cancel}" action="#{personController.cancel()}" immediate="true"/>		    		
		    	</div>		    	
		    </div>
		</div>
	</h:form>
	</ui:define>
</ui:composition>