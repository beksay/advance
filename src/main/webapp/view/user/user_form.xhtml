<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/layouts/private.xhtml">
	<ui:define name="content">
	
	    <h:form id="form">
		<div class="innerBlock">
		    <div class="innerBlockHeader">
		    	<ul>
		    		<li>User form</li>
					<li><a href="#del"><i class="fas fa-times"></i></a></li>
		    	</ul>
		    </div>
		    <div class="row">
		    	<div class="col-3">
		    	        <h:outputLabel value="#{msgs.firstname}" />
						<h:inputText id="firstname" class="uname"
							value="#{userAction.person.firstname}" required="true"
							requiredMessage="#{msgs.firstname} - #{msgs.isReq}">
						</h:inputText>
						<h:message for="firstname" display="icon" style="color:red;" />		    	
		    	</div>
                <div class="col-3">
						<h:outputLabel value="#{msgs.lastname}" />
						<h:inputText id="lastname" value="#{userAction.person.lastname}"
							required="true"
							requiredMessage="#{msgs.lastname} - #{msgs.isReq}">
						</h:inputText>
						<h:message for="lastname" display="icon" style="color:red;" />
				</div>
                <div class="col-3">		
						<h:outputLabel for="role" value="#{msgs.role}" />	
					    <p:selectOneMenu id="role" value="#{userAction.user.role}" style="width:220px" converter="roleConverter">
					        <f:selectItem itemLabel="#{msgs.selectValue}"/>
			                <f:selectItems value="#{userAction.availableRoles}" var="role" itemLabel="#{role.humanName}" itemValue="#{role}"/>     
			            </p:selectOneMenu>
			            <h:message for="role" display="icon" style="color:red;" />
			      </div>
                <div class="col-3">      
						<h:outputLabel value="#{msgs.username}" />
						<h:inputText id="username-new" value="#{userAction.user.username}"
							required="true"
							requiredMessage="#{msgs.username} - #{msgs.isReq}">
						</h:inputText>
						<h:message for="username-new" display="icon" style="color:red;" />
				</div>
				
				<div class="col submit">
					<p:commandButton ajax="false" value="#{msgs.save}" action="#{userAction.saveUser()}"/>		    	
		    	</div>
		    	<div class="col submit">
					<p:commandButton ajax="false" styleClass="orange-btn" value="#{msgs.cancel}" action="#{userAction.cancel()}" immediate="true"/>		    		
		    	</div>	
			
			   </div>
	    	</div>
	    </h:form>
	</ui:define>
</ui:composition>